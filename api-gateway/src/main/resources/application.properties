server.port=8765

# id  приложения - в данном случае сервера eureka - в микросервисных приложениях его необходимо всегда указывать
spring.application.name=api-gateway

## тк это не клиент, то убираем лишние настройки
#eureka.client.register-with-eureka = false
#eureka.client.fetch-registry = false

# url, куда будет происходить регисрация микросервиса
eureka.client.service-url.defaultZone = http://localhost:8761/eureka

# отключение лишних логов
#logging.level.com.netflix.eureka = OFF
#logging.level.com.netflix.discovery = OFF

#формат вывода логов -- название класса, уровень логгирования, время, само сообщение, перевод на новую строку
logging.pattern.console = %C{1.} [%-5level] %d{HH:mm:ss} - %msg%n

#Gateway specific for correct work
spring.cloud.gateway.discovery.locator.enabled = true

#Case NonSensitive settings
spring.cloud.gateway.discovery.locator.lower-case-service-id=true

#Manual Routing
spring.cloud.gateway.routes[0].id=test
spring.cloud.gateway.routes[0].uri=lb://eclient
spring.cloud.gateway.routes[0].predicates[0]=Path=/main/test
spring.cloud.gateway.routes[0].predicates[1]=Method=GET

spring.cloud.gateway.routes[1].id=test2
spring.cloud.gateway.routes[1].uri=lb://eclient
spring.cloud.gateway.routes[1].predicates[0]=Path=/main/test2
spring.cloud.gateway.routes[1].predicates[1]=Method=GET

spring.cloud.gateway.routes[2].id=port
spring.cloud.gateway.routes[2].uri=lb://eclient
spring.cloud.gateway.routes[2].predicates[0]=Path=/main/port
spring.cloud.gateway.routes[2].predicates[1]=Method=GET


spring.cloud.gateway.routes[3].id=name
spring.cloud.gateway.routes[3].uri=lb://eclient2
spring.cloud.gateway.routes[3].predicates[0]=Path=/new/name
spring.cloud.gateway.routes[3].predicates[1]=Method=GET
